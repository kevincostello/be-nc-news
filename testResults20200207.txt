
> be-nc-news@1.0.0 test /Users/kevincostello/Northcoders/Backend/be-nc-news
> mocha spec/app.spec.js

topicsRouter
usersRouter
articlesRouter
commentsRouter


  /api
test
    ✓ Returns GET /api with status of 200 and a JSON containing all of the endpoints on the api (42ms)
In 405 error handler
    ✓ Returns DELETE /api with an error code of 405 Method Not Allowed
    /topics
      ✓ GET responds with status code of 200 and returns array of topics
in 3 parameter 404 error log
      ✓ GET responds with status code of 404 when the path has a misspelling
In 405 error handler
      ✓ Returns PATCH /api/topics with an error code of 405 Method Not Allowed
      ✓ RETURNS POST /api/topics/:topic_id with status 200 and adds a new topic to the database when passed a new topic as a parameter
In 4 parameter error handler
      ✓ POSTS a comment with status code of 400 when passed an object not containing any keys
In 4 parameter error handler
      ✓ POSTS a comment with status code of 400 when passed an object not containing the slug
In 4 parameter error handler
      ✓ POSTS a comment with status code of 400 when passed an object not containing the description
in 3 parameter 404 error log
      ✓ POSTS with return of 404 error when passed a misspelt path
    /users
      ✓ GETS a status code of 200 when a valid username is passed as a parameter in the path
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GETS a status code of 404 when passed an invalid username
In 405 error handler
      ✓ Returns PATCH /api/users with an error code of 405 Method Not Allowed
In 405 error handler
      ✓ Returns PUT /api/users/butter_bridge with an error code of 405 Method Not Allowed
      ✓ Returns POST /api/users with status of 201 when passed a valid user object to add to the database
In 4 parameter error handler
      ✓ POSTS a user with status code of 400 when passed an object not containing any keys
In 4 parameter error handler
      ✓ POSTS a user with status code of 400 when passed an object not containing the username
In 4 parameter error handler
      ✓ POSTS a user with status code of 400 when passed an object not containing the name
in 3 parameter 404 error log
      ✓ POSTS with return of 404 error when passed a misspelt path
      ✓ Returns GET /api/users with status of 200 and returns an array of user objects
in 3 parameter 404 error log
      ✓ Returns GET /api/userrs with status of 404 as passed a misspelt path
    /articles
      ✓ GETS a status code of 200 when passed a valid article id
In 4 parameter error handler
      ✓ GETS a status code of 400 when passed an invalid article id
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GETS a status code of 404 when passed a valid article id which is not in the database
      ✓ GETS a status code of 200 and creates the comment count correctly when passed a valid article id
      ✓ GETS a status code of 200 and creates the comment count of zero when passed a valid article id which is not in the comments table
patching result is completed
      ✓ PATCHES with a status code of 200 when passed an object containing the vote count change
In 4 parameter error handler
      ✓ PATCHES with as status code of 400 when passed an object with an invalid value for inc_votes
In 405 error handler
      ✓ Returns POST /api/articles/1 with an error code of 405 Method Not Allowed
      ✓ Returns DELETE /api/articles/:article_id with status of 204 when passed a valid article_id
In 4 parameter error handler
in default 4 parameter error handler
      ✓ Returns DELETE with status of 404 when passed an article_id which does not exist
In 4 parameter error handler
      ✓ DELETES with status code of 400, when passed an invalid article_id
A valid integer must be provided to offset
      ✓ GETS a status code of 200 when passed a valid path to /api/articles
in 3 parameter 404 error log
      ✓ GETS a status code of 404 when passed an invalid path to /api/articles
A valid integer must be provided to offset
      ✓ GETS a status code of 200 when passed a valid path and sorts by the default column and default order by
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the created_at for a given article id when valid queries are passed in the request with a valid column as the sort by column and default order by value
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the created_at for a given article id when valid queries are passed in the request with order by value of asc
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the title fwhen valid queries are passed in the request with a valid column as the sort by column and order by value is asc
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the title filtered by author when passedwhen valid queries are passed in the request with a valid column as the sort by column and order by value is asc and a valid value for author
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the title filtered by topic when passed valid queries are passed in the request with a valid column as the sort by column and order by value is asc and a valid value for topic
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the title filtered by topic but not filterd by author when passed valid queries are passed in the request with a valid column as the sort by column and order by value is asc and a valid value for topic
A valid integer must be provided to offset
      ✓ GETS a status code of 200 and returns an array of sorted articles by the title filtered by topic but not filterd by topic when passed valid queries are passed in the request with a valid column as the sort by column and order by value is asc and a valid value for author
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GETS a status code of 404 when passed an author name not in the database
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GETS a status code of 404 when passed a title not in the database
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GETS a status code of 404 when passed an author and a title not in the database
A valid integer must be provided to offset
In 4 parameter error handler
      ✓ GETS a status code of 400 when passed sort_by column not on the database
A valid integer must be provided to offset
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GETS a status code of 400 when passed invalid order by value
A valid integer must be provided to offset
      ✓ GET a status code of 200 an empty array when passed a valid author who has no articles
In 4 parameter error handler
in default 4 parameter error handler
      ✓ GET a status code of 404, author name not in the database
In 405 error handler
      ✓ Returns PATCH /api/articles with an error code of 405 Method Not Allowed
      ✓ RETURNS GET /api/articles with status of 200 and returns a certain page and number of rows when passed page number and limit
A valid integer must be provided to offset
      ✓ GETS /api/articles with a total_count property representing the total number of articles
      ✓ Returns POST /api/articles with status of 201 when passed a valid article object and returns the posted article
In 4 parameter error handler
      ✓ Returns POST /api/articles with status of 400 when passed an empty body
In 4 parameter error handler
      ✓ POSTS a article with status code of 400 when passed an object not containing the title
in 3 parameter 404 error log
      ✓ POSTS with return of 404 error when passed a misspelt path
      /:article_id/comments
        ✓ POSTS a comment with status code of 201 when passed an object containing the comment
In 4 parameter error handler
        ✓ POSTS a comment with status code of 400 when passed an object not containing any keys
In 4 parameter error handler
        ✓ POSTS a comment with status code of 400 when passed an object not containing the username
In 4 parameter error handler
        ✓ POSTS a comment with status code of 400 when passed an object not containing the body
In 4 parameter error handler
        ✓ POSTS a status code of 404 when the passed article_id is not on the database
        ✓ GETS a status code of 200 and returns an array of comments for a given article id when valid queries are passed in the request
        ✓ GETS a status code of 200 and returns an array of sorted comments by the created_at for a given article id when valid queries are passed in the request with created_at as the sort by column and desc as the order by value
        ✓ GETS a status code of 200 and returns an array of sorted comments by the created_at for a given article id when valid queries are passed in the request with a valid column as the sort by column and default order by value
        ✓ GETS a status code of 200 and returns an array of sorted comments by the created_at for a given article id when valid queries are passed in the request with a valid column as the sort by column and order by value is desc
        ✓ GETS a status code of 200 and returns an array of sorted comments by the created_at for a given article id when valid queries are passed in the request with a default sort by column and order by value is asc
        ✓ GETS a status code of 200 and returns an array of sorted comments by the created_at for a given article id when valid queries are passed in the request with a valid column as the sort by column and order by value is asc
In 4 parameter error handler
        ✓ GETS a status code of 400 with message of invalid column for sort_by when passed an invalid column for sort_by 
In 4 parameter error handler
in default 4 parameter error handler
        ✓ GETS a status code of 400 with message of invalid order value when passed an invalid order value 
        ✓ GETS a status code of 200 and returns an empty articles array when passes an article_id which exists but is has not comments
In 405 error handler
        ✓ Returns PATCH /api/articles with an error code of 405 Method Not Allowed
        ✓ GETS with status of 200 and returns an array of comments from the page and limit specified in the query
In 4 parameter error handler
in default 4 parameter error handler
        ✓ GETS with status of 400 for invalid query
    /comments
      /:comment_id
        ✓ PATCHES with status of 200 when passed a valid votes object, checked against expected object in test
In 4 parameter error handler
        ✓ PATCHES with as status code of 400 when passed an object with an invalid value for inc_votes
        ✓ PATCHES a comment with status code of 200 and returns the unchanged comment when passed an object not containing any keys
In 4 parameter error handler
in default 4 parameter error handler
        ✓ PATCHES a comment with status code of 200 and returns the unchanged comment when passed an object not containing any keys
In 4 parameter error handler
in default 4 parameter error handler
        ✓ PATCHES with a status code of 404 when the passed a key not on the database
        ✓ DELETES with status code of 204, when passed a comment_id
in 3 parameter 404 error log
        ✓ DELETES with status code of 404, when passed a misspelt path
In 4 parameter error handler
in default 4 parameter error handler
        ✓ DELETES with status code of 404, when passed a comment_id that does not exist
In 4 parameter error handler
        ✓ DELETES with status code of 400, when passed an invalid comment_id
In 405 error handler
        ✓ Returns PATCH /api/comments/1 with an error code of 405 Method Not Allowed


  83 passing (12s)

